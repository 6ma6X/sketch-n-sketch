<html xmlns="http://www.w3.org/1999/xhtml">@(load "src/head.src.html")<body>
  <div id="wrapper">

    <div id="header">
      <div id="logo"> <h1>Sketch-n-Sketch v0.4.1</h1> </div>
      @(load "src/menu.src.html")
    </div>

    <div id="page">

      <div class="content_wide">
      <div class="post0">
        <img width="350px" height="350px" align="right" style="padding: 0 0 30px 30px;"
             src="""@root/static/images/tutorial/01/sketch-n-sketch.png"""/>
        <h1>PLDI 2016 Artifact Evaluation</h1>

<br>

<p>
<a href="http://arxiv.org/pdf/1507.02988v2.pdf">
<b>Programmatic and Direct Manipulation, Together at Last</b></a><br>
Paper and Supplementary Appendix, November 2015
</p>

<p>
To help set the context for evaluating our artifacts, we
quote some descriptions from our submitted paper:
<ul>
<li style="margin: 8px 0 0 10px;">
<i>
Our implementation, examples, user study videos, and survey instrument (as
well as additional tutorial documentation) are publicly available and ready for
Artifact Evaluation.
</i>
(p.2)
</li>
<li style="margin: 8px 0 0 10px;">
<i>
Our goal with live synchronization [...] is to immediately apply a program
update during the user's actions.
</i>
(p.4)
</li>
<li style="margin: 8px 0 0 10px;">
<i>
The [examples] resemble typical programs in other functional
languages, but for the domain of SVG.
</i>
(p.7)
</li>
<li style="margin: 8px 0 0 10px;">
<i>
Sketch-n-Sketch is not a full-featured direct manipulation editor, 
nor is it a polished language implementation with rich
libraries and tools.
</i>
(p.9)
</li>
</ul>

</p>

      </div>
      </div>

      <div class="content_wide_next">
      <div class="post0">
        <h3>Quick Start</h3>

<p>
You can <a href="""@root/releases/v0.4.1/index.html""">try Sketch-n-Sketch</a>
right away by selecting an example using the dropdown menu and then directly
manipulating the visual output. To edit the program directly, click Edit
Code, type some changes, and then click Run Code to re-evaluate the program.
(<a href="https://github.com/ravichugh/sketch-n-sketch/issues/58">Removing the need to click Edit Code</a>
is a feature that has long been on our TODO list.)
</p>

<h4>Examples from Paper</h4>

<p>
The examples depicted in Figure 3 are named
Wave Boxes, Logo, Botanic Garden Logo, Active Trans Logo,
Lillicon P, Chicago Flag, and Hilbert Curve Animation.
The examples depicted in Figure 3 are named
Widgets, Rounded Rect, and Tile Pattern.
The three tasks depicted in the user study videos are named
Ferris Task (Before/After),
Keyboard Task (Before/After), and
Tessellation Task (Before/After).
The Survey Results example implements the histograms in Figure 4.
The examples depicted in the Appendix are named
3 Boxes, Elm Logo, and Ferris Wheel.
</p>
      </div>
      </div>

      <div class="content_wide_next">
      <div class="post0">
        <h3>Documentation and Videos</h3>
<p>
To do more than directly manipulate examples that have already been written,
you will need to learn a bit about the syntax of Little and the features and
options in the Sketch-n-Sketch editor.
We provide the following resources, along with rough estimates
of how long you may decide to spend with them.
</p>

<h4><a href="""@root/blog/03-user-study-videos.html""">user study videos</a> (0 &ndash; 45 minutes)</h4>
<p>
Parts 1, 2, 3, and 4 (approximately 20 minutes in total) provide
a high-level overview of Little and Sketch-n-Sketch.
</p>
<p>
Part 5 shows the tasks we developed for our user study; the survey
questions can be found in the Appendix to our paper.
</p>

<h4><a href="https://github.com/ravichugh/sketch-n-sketch/blob/pldi2016/README.md">syntax guide</a> (0 &ndash; 1 hour)</h4>

<p>
The syntax guide defines the grammar for Little
as well as the encoding of SVG values.
To see a variety of Little programs, you may view the source code for
<a href="https://github.com/ravichugh/sketch-n-sketch/blob/pldi2016/examples/prelude.little"><tt>prelude.little</tt></a>
(automatically included in every program) and the
<a href="https://github.com/ravichugh/sketch-n-sketch/blob/pldi2016/examples/">examples</a>.
</p>

<h4><a href="__ROOT__/tutorial/">tutorial</a> (1 &ndash; 5 hours)</h4>

<p>
This multi-part tutorial constitutes the most thorough introduction
to Sketch-n-Sketch as well as some more advanced uses.
</p>
      </div>
      </div>

      <div class="content_wide_next">
      <div class="post0">
        <h3>Additional Features</h3>

<p>
Our implementation provides two kinds of zones beyond the basic SVG
zones described in our paper, namely, color zones and rotation zones.
A simple example that uses both:
</p>

<img align="right" width="300px" style="padding: 0 20px 0 20px;"
     src="""@root/static/images/tutorial/03/extra-zones.png"""/>

<pre>
(def [x y w h] [76 118 127 131])
(def [cx cy] [(+ x (/ w 2!)) (+ y (/ h 2!))])
(def color 216)
(def rotation 45)
(def myShape (rect color x y w h))
(svg [(rotate myShape rotation cx cy)])
</pre>

<p>
When toggling the Zones button to display Extra zones, a slider
will be displayed to manipulate the color and a circle will
be displayed to manipulate the rotation angle.
</p>

      </div>
      </div>

      <div class="content_wide_next">
      <div class="post0">
        <h3>Known Issues</h3>

<h4>Error Messages</h4>

<p>
Our tool currently does not report helpful error messages.
When there is a parse error, the caption "PARSE ERROR!" is
displayed under the output canvas without any additional
information.
<p>
</p>
When there is a run-time error, usually
the output canvas usually displays the string "[Little Error]"
(sometimes with the line and column numbers of the
offending expression) but sometimes a JavaScript exception
is raised (visible in the brower's Web Console). In the
latter case, reload the application.
</p>

<h4>Performance</h4>

<p>
There are several aspects of our implementation that would
benefit from optimizations:
the evaluation of Little programs,
re-evaluation of Little programs during live mode, and
the data structures computed and maintained by the
editor to make heuristic choices and compute triggers.
Our current approach for each of these is naive, leading
to some known performance issues:
</p>

<p>
<ul>
<li style="margin: 8px 0 0 10px;">
  Sketch-n-Sketch may
  <a href="https://github.com/ravichugh/sketch-n-sketch/issues/56">fail to load in Firefox on Linux</a>,
  crashing with a "too much recursion" error. (However, this
  issue appears to be mitigated in Sketch-n-Sketch v0.4.1,
  which is the first version we have built with Elm 0.16, the
  most recent version of the Elm compiler).
  We believe this is due to the default stack size in
  this Firefox configuation. We have run Sketch-n-Sketch
  in Firefox and Chrome on a number of different operating
  systems without this error. If you have trouble, please try
  running Sketch-n-Sketch in several different browser and
  operating system configurations, and let us know if you
  run into issues.
</li>
<li style="margin: 8px 0 0 10px;">
  Preparing for live updates &mdash;
  (a) using heuristics to compute zone assignments at the end
  of one user action in anticipation of the next, and
  (b) computing a mouse trigger when the user makes an initial
  click on a zone &mdash;
  sometimes leads to a temporary lack of responsiveness, due to
  current deficiencies in the data structures we maintain and how we
  traverse them. We typically notice this slowdown only when there
  are a large number of shapes.
  For example, the Keyboard Task Before example exhibits noticeable
  delays user actions have finished when running in Fair Heuristics mode.
</li>
</ul>
</p>

<h4>Parser</h4>
  
<p>
When a "<tt>(def x e1) e2</tt>" expression appears anywhere but
the top-level scope of the program, the unparser currently
inserts extra, unwanted whitespace. The workaround is to
use the equivalent let-expression form "<tt>(let x e1 e2)</tt>",
which can appear anywhere without sufferring this issue.
</p>

<h4>Resizing Panes</h4>

<p>
The pane separating the code and canvas can be resized.
If you stop dragging (by releasing the mouse) before the position
of the pane has caught up to the mouse position, the
editor may get stuck in a state where it resizes the panes upon each
successive click. In such situations, reload the application.
</p>

      </div>
      </div>

      <div class="content_wide_next">
      <div class="post0">
        <h3>Source Code</h3>

<p>
Our
<!--
<a href="https://github.com/ravichugh/sketch-n-sketch/commit/d6d83e9f7b4379f375c01b7fa622c44e1ed49fab">
-->
<a href="https://github.com/ravichugh/sketch-n-sketch/releases/tag/v0.4.1">
implementation</a> is open source, but we have not
yet made an effort to organize and document it in a way that would make it
easy for others to extend.
If one wants to poke around anyway, here are a few pointers:
<ul>
<li style="margin: 8px 0 0 10px;">
<a href="https://github.com/ravichugh/sketch-n-sketch/blob/v0.4.1/src/Lang.elm"><tt>Lang.elm</tt></a>
defines the types of expressions and values in Little, without
any SVG-specific encodings.
</li>
<li style="margin: 8px 0 0 10px;">
SVG encodings are defined in <a href="https://github.com/ravichugh/sketch-n-sketch/blob/v0.4.1/src/LangSvg.elm"><tt>LangSvg.elm</tt></a>.
</li>
<li style="margin: 8px 0 0 10px;">
The <tt>solve</tt> function in
<a href="https://github.com/ravichugh/sketch-n-sketch/blob/v0.4.1/src/Sync.elm"><tt>Sync.elm</tt></a>
is the entry point for our two simple solvers,
<tt>solveTopDown</tt> (called SolveB in the paper) and
<tt>simpleSolve</tt> (called SolveA).
</li>
<li style="margin: 8px 0 0 10px;">
The <tt>assignTriggers</tt> function in
<a href="https://github.com/ravichugh/sketch-n-sketch/blob/v0.4.1/src/Sync.elm"><tt>Sync.elm</tt></a>
is the entry point for assigning triggers using heuristics for disambiguation.
</li>
</ul>
</p>

      </div>
      </div>

      <br class="clearfix" />

    </div> <!-- end id="page" -->

  </div> <!-- end id="wrapper" -->

  @(load "src/footer.src.html")

  @(load "src/ga-tracker.src.html")

</body>
</html>
